<!DOCTYPE html>
<html lang="en">
<head>
	<title>ecsy-three webvr - panorama</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	<link type="text/css" rel="stylesheet" href="main.css">
</head>
<body>
	<script type="module">
		import {
			initializeDefault,
			SkyBoxSystem,
			Parent,
			SkyBox,
			ECSY
		} from '../build/ecsy-three.module.js';

		var world;
		
		init();
		animate();

		function init() {

			world = new ECSY.World();
			
			let data = initializeDefault(world);
			
			let {scene} = data.entities;
			
			world.registerSystem(SkyBoxSystem);
			
			///
			var skybox = world.createEntity().addComponent(SkyBox, {
				textureUrl: "textures/cube/sun_temple_stripe_stereo.jpg",
				type: "cubemap-stereo"
			}).addComponent(Parent, { parent: scene });
		}
		
		// @todo Replace this with something simpler / ~auto scheduler
		function animate() {
			world.execute();
			requestAnimationFrame(animate);
		}
	</script>
</body>
</html>
