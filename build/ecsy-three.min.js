!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("ecsy"),require("three"),require("three/examples/jsm/loaders/GLTFLoader.js"),require("three/examples/jsm/webxr/VRButton.js"),require("three/examples/jsm/webxr/ARButton.js")):"function"==typeof define&&define.amd?define(["exports","ecsy","three","three/examples/jsm/loaders/GLTFLoader.js","three/examples/jsm/webxr/VRButton.js","three/examples/jsm/webxr/ARButton.js"],t):(e=e||self,function(){var s=e.ECSYTHREE,n=e.ECSYTHREE={};t(n,e.ECSY,e.THREE,e.GLTFLoader_js,e.VRButton_js,e.ARButton_js),n.noConflict=function(){return e.ECSYTHREE=s,n}}())}(this,(function(e,t,s,n,o,i){"use strict";class r{constructor(){this.reset()}reset(){this.value=!1}}class a{constructor(){this.fov=45,this.aspect=1,this.near=1,this.far=1e3,this.layers=0,this.handleResize=!0}reset(){}}class l{constructor(){this.reset()}reset(){this.leftHand=null,this.rightHand=null,this.camera=null}}class c extends t.TagComponent{}class d{constructor(){this.primitive="box"}reset(){this.primitive="box"}}class u{}class h{constructor(){this.value=null}reset(){this.value=null}}class m{constructor(){this.value=null}reset(){this.value=null}}class p{constructor(){this.scene=null,this.camera=null}reset(){this.scene=null,this.camera=null}}class g{constructor(){this.scene=null}reset(){this.scene=null}}class v{constructor(){this.texture="",this.type=""}reset(){this.texture="",this.type=""}}class f{reset(){}}class y{constructor(){this.position=new s.Vector3,this.rotation=new s.Vector3}copy(e){this.position.copy(e.position),this.rotation.copy(e.rotation)}reset(){this.position.set(0,0,0),this.rotation.set(0,0,0)}}class w{constructor(){this.reset()}reset(){this.value=!1}}class C{constructor(){this.vr=!1,this.ar=!1,this.antialias=!0,this.handleResize=!0,this.gammaInput=!0,this.gammaOutput=!0,this.shadowMap=!0}}class x extends t.System{execute(){this.queries.entities.removed.forEach(e=>{var t=e.getRemovedComponent(h).value;e.getComponent(m,!0).value.getComponent(h).value.remove(t)}),this.queries.entities.added.forEach(e=>{var t,n=e.getComponent(d);switch(n.primitive){case"torus":t=new s.TorusBufferGeometry(n.radius,n.tube,n.radialSegments,n.tubularSegments);break;case"sphere":t=new s.IcosahedronBufferGeometry(n.radius,1);break;case"box":t=new s.BoxBufferGeometry(n.width,n.height,n.depth)}var o="torus"===n.primitive?10066176:16777215*Math.random(),i=new s.MeshLambertMaterial({color:o,flatShading:!0}),r=new s.Mesh(t,i);if(r.castShadow=!0,r.receiveShadow=!0,e.hasComponent(y)){var a=e.getComponent(y);r.position.copy(a.position),a.rotation&&r.rotation.set(a.rotation.x,a.rotation.y,a.rotation.z)}e.addComponent(h,{value:r})})}}x.queries={entities:{components:[d],listen:{added:!0,removed:!0}}};var b=(new n.GLTFLoader).setPath("/assets/");class S extends t.System{execute(){this.queries.entities.added.forEach(e=>{var t=e.getComponent(u);b.load(t.url,t=>{e.addComponent(h,{value:t.scene})})})}}S.queries={entities:{components:[u],listen:{added:!0}}};class E extends t.System{execute(){let e=this.queries.entities.results;for(let t=0;t<e.length;t++){let n=e[t],o=n.getComponent(v),i=new s.Group,r=new s.BoxBufferGeometry(100,100,100);if(r.scale(1,1,-1),"cubemap-stereo"===o.type){let e=q(o.textureUrl,12),t=[];for(let n=0;n<6;n++)t.push(new s.MeshBasicMaterial({map:e[n]}));let a=new s.Mesh(r,t);a.layers.set(1),i.add(a);let l=[];for(let t=6;t<12;t++)l.push(new s.MeshBasicMaterial({map:e[t]}));let c=new s.Mesh(r,l);c.layers.set(2),i.add(c),n.addComponent(h,{value:i})}else console.warn("Unknown skybox type: ",o.type)}}}function q(e,t){let n=[];for(let e=0;e<t;e++)n[e]=new s.Texture;return(new s.ImageLoader).load(e,(function(e){let t,s,o=e.height;for(let i=0;i<n.length;i++)s=(t=document.createElement("canvas")).getContext("2d"),t.height=o,t.width=o,s.drawImage(e,o*i,0,o,o,0,0,o,o),n[i].image=t,n[i].needsUpdate=!0})),n}E.queries={entities:{components:[v,t.Not(h)]}};class R extends t.System{processVisibility(e){e.forEach(e=>{e.getMutableComponent(h).value.visible=e.getComponent(w).value})}execute(){this.processVisibility(this.queries.entities.added),this.processVisibility(this.queries.entities.changed)}}R.queries={entities:{components:[w,h],listen:{added:!0,changed:[w]}}};class M{constructor(){this.value=null}}class L extends t.System{init(){window.addEventListener("resize",()=>{this.queries.renderers.results.forEach(e=>{var t=e.getMutableComponent(C);t.width=window.innerWidth,t.height=window.innerHeight})},!1)}execute(){this.queries.renderers.results.forEach(e=>{var t=e.getComponent(M).value;this.queries.renderPasses.results.forEach(e=>{var s=e.getComponent(p).scene.getComponent(h).value;this.queries.activeCameras.results.forEach(e=>{var n=e.getComponent(h).value;t.render(s,n)})})}),this.queries.uninitializedRenderers.results.forEach(e=>{var t=e.getComponent(C),n=new s.WebGLRenderer({antialias:t.antialias});t.animationLoop&&n.setAnimationLoop(t.animationLoop),n.setPixelRatio(window.devicePixelRatio),t.handleResize&&n.setSize(window.innerWidth,window.innerHeight),n.gammaInput=t.gammaInput,n.gammaOutput=t.gammaOutput,n.shadowMap.enabled=t.shadowMap,document.body.appendChild(n.domElement),(t.vr||t.ar)&&(n.xr.enabled=!0,t.vr&&document.body.appendChild(o.VRButton.createButton(n)),t.ar&&document.body.appendChild(i.ARButton.createButton(n))),e.addComponent(M,{value:n})}),this.queries.renderers.changed.forEach(e=>{var t=e.getComponent(C),s=e.getComponent(M).value;t.width===s.width&&t.height===s.height||s.setSize(t.width,t.height)})}}L.queries={uninitializedRenderers:{components:[C,t.Not(M)]},renderers:{components:[C,M],listen:{changed:[C]}},renderPasses:{components:[p]},activeCameras:{components:[a,r],listen:{added:!0}}};class z extends t.System{execute(){let e=this.queries.parent.added;for(var t=0;t<e.length;t++){var s=e[t],n=s.getComponent(m).value;if(n.hasComponent(h)){var o=n.getComponent(h).value,i=s.getComponent(h).value;o.add(i)}}var r=this.queries.transforms;for(let e=0;e<r.added.length;e++){let t=r.added[e],s=t.getComponent(y),n=t.getComponent(h).value;n.position.copy(s.position),n.rotation.set(s.rotation.x,s.rotation.y,s.rotation.z)}for(let e=0;e<r.changed.length;e++){let t=r.changed[e],s=t.getComponent(y),n=t.getComponent(h).value;n.position.copy(s.position),n.rotation.set(s.rotation.x,s.rotation.y,s.rotation.z)}}}z.queries={parent:{components:[m,h],listen:{added:!0}},transforms:{components:[h,y],listen:{added:!0,changed:[y]}}};class T extends t.System{init(){window.addEventListener("resize",()=>{this.queries.cameras.results.forEach(e=>{e.getComponent(a).handleResize&&(e.getMutableComponent(a).aspect=window.innerWidth/window.innerHeight)})},!1)}execute(){let e=this.queries.cameras.changed;for(let t=0;t<e.length;t++){let s=e[t],n=s.getComponent(a),o=s.getMutableComponent(h).value;o.aspect!==n.aspect&&(o.aspect=n.aspect,o.updateProjectionMatrix())}this.queries.camerasUninitialized.results.forEach(e=>{let t=e.getComponent(a),n=new s.PerspectiveCamera(t.fov,t.aspect,t.near,t.far);n.layers.enable(t.layers),e.addComponent(h,{value:n})})}}T.queries={camerasUninitialized:{components:[a,t.Not(h)]},cameras:{components:[a,h],listen:{changed:[a]}}};class j extends t.System{init(){this.initialized=!1;var e=new s.FontLoader;this.font=null,e.load("/assets/fonts/helvetiker_regular.typeface.json",e=>{this.font=e,this.initialized=!0})}execute(){this.font&&(this.queries.entities.changed.forEach(e=>{var t=e.getComponent(f),n=new s.TextGeometry(t.text,{font:this.font,size:1,height:.1,curveSegments:3,bevelEnabled:!0,bevelThickness:.03,bevelSize:.03,bevelOffset:0,bevelSegments:3});e.getMutableComponent(h).value.geometry=n}),this.queries.entities.added.forEach(e=>{var t=e.getComponent(f),n=new s.TextGeometry(t.text,{font:this.font,size:1,height:.1,curveSegments:3,bevelEnabled:!0,bevelThickness:.03,bevelSize:.03,bevelOffset:0,bevelSegments:3});Math.random();var o=new s.MeshStandardMaterial({color:16777215,roughness:.7,metalness:0}),i=new s.Mesh(n,o);e.addComponent(h,{value:i})}))}}function B(e){e.registerSystem(z).registerSystem(T).registerSystem(L,{priority:1})}j.queries={entities:{components:[f],listen:{added:!0,changed:!0}}},e.Active=r,e.Camera=a,e.CameraRig=l,e.CameraSystem=T,e.Draggable=class{constructor(){this.reset()}reset(){this.value=!1}},e.Dragging=c,e.GLTFLoaderSystem=S,e.GLTFModel=u,e.Geometry=d,e.GeometrySystem=x,e.Material=class{constructor(){this.color=16711680}},e.Object3D=h,e.Parent=m,e.Position=class{constructor(){this.position=new s.Vector3}reset(){this.position.set(0,0,0)}},e.RenderPass=p,e.Rotation=class{constructor(){this.rotation=new s.Vector3}reset(){this.rotation.set(0,0,0)}},e.Scene=g,e.Sky=class{constructor(){}reset(){}},e.SkyBox=v,e.SkyBoxSystem=E,e.TextGeometry=f,e.TextGeometrySystem=j,e.Transform=y,e.TransformSystem=z,e.VRController=class{constructor(){this.id=0,this.controller=null}reset(){}},e.VisibilitySystem=R,e.Visible=w,e.WebGLRendererContext=M,e.WebGLRendererSystem=L,e.init=B,e.initializeDefault=function(e=new t.World,n){B(e);let o=n.animationLoop;if(!o){const t=new s.Clock;o=()=>{e.execute(t.getDelta(),t.elapsedTime)}}let i=e.createEntity().addComponent(g).addComponent(h,{value:new s.Scene}),r=e.createEntity().addComponent(C,{ar:n.ar,vr:n.vr,animationLoop:o});var c=null,d=null;n.ar||n.vr?d=e.createEntity().addComponent(l).addComponent(m,{value:i}):c=e.createEntity().addComponent(a,{fov:90,aspect:window.innerWidth/window.innerHeight,near:1,far:1e3,layers:1,handleResize:!0});let u=e.createEntity().addComponent(p,{scene:i,camera:c});return{world:e,entities:{scene:i,camera:c,cameraRig:d,renderer:r,renderPass:u}}},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWNzeS10aHJlZS5taW4uanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL0FjdGl2ZS5qcyIsIi4uL3NyYy9jb21wb25lbnRzL0NhbWVyYS5qcyIsIi4uL3NyYy9jb21wb25lbnRzL0NhbWVyYVJpZy5qcyIsIi4uL3NyYy9jb21wb25lbnRzL0RyYWdnaW5nLmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvR2VvbWV0cnkuanMiLCIuLi9zcmMvY29tcG9uZW50cy9HTFRGTW9kZWwuanMiLCIuLi9zcmMvY29tcG9uZW50cy9PYmplY3QzRC5qcyIsIi4uL3NyYy9jb21wb25lbnRzL1BhcmVudC5qcyIsIi4uL3NyYy9jb21wb25lbnRzL1JlbmRlclBhc3MuanMiLCIuLi9zcmMvY29tcG9uZW50cy9TY2VuZS5qcyIsIi4uL3NyYy9jb21wb25lbnRzL1NreWJveC5qcyIsIi4uL3NyYy9jb21wb25lbnRzL1RleHRHZW9tZXRyeS5qcyIsIi4uL3NyYy9jb21wb25lbnRzL1RyYW5zZm9ybS5qcyIsIi4uL3NyYy9jb21wb25lbnRzL1Zpc2libGUuanMiLCIuLi9zcmMvY29tcG9uZW50cy9XZWJHTFJlbmRlcmVyLmpzIiwiLi4vc3JjL3N5c3RlbXMvR2VvbWV0cnlTeXN0ZW0uanMiLCIuLi9zcmMvc3lzdGVtcy9HTFRGTG9hZGVyU3lzdGVtLmpzIiwiLi4vc3JjL3N5c3RlbXMvU2t5Qm94U3lzdGVtLmpzIiwiLi4vc3JjL3N5c3RlbXMvVmlzaWJpbGl0eVN5c3RlbS5qcyIsIi4uL3NyYy9zeXN0ZW1zL1dlYkdMUmVuZGVyZXJTeXN0ZW0uanMiLCIuLi9zcmMvc3lzdGVtcy9UcmFuc2Zvcm1TeXN0ZW0uanMiLCIuLi9zcmMvc3lzdGVtcy9DYW1lcmFTeXN0ZW0uanMiLCIuLi9zcmMvc3lzdGVtcy9UZXh0R2VvbWV0cnlTeXN0ZW0uanMiLCIuLi9zcmMvaW5pdGlhbGl6ZS5qcyIsIi4uL3NyYy9jb21wb25lbnRzL0RyYWdnYWJsZS5qcyIsIi4uL3NyYy9jb21wb25lbnRzL01hdGVyaWFsLmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvUG9zaXRpb24uanMiLCIuLi9zcmMvY29tcG9uZW50cy9Sb3RhdGlvbi5qcyIsIi4uL3NyYy9jb21wb25lbnRzL1NreS5qcyIsIi4uL3NyYy9jb21wb25lbnRzL1ZSQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQWN0aXZlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy52YWx1ZSA9IGZhbHNlO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgQ2FtZXJhIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5mb3YgPSA0NTtcbiAgICB0aGlzLmFzcGVjdCA9IDE7XG4gICAgdGhpcy5uZWFyID0gMTtcbiAgICB0aGlzLmZhciA9IDEwMDA7XG4gICAgdGhpcy5sYXllcnMgPSAwO1xuICAgIHRoaXMuaGFuZGxlUmVzaXplID0gdHJ1ZTtcbiAgfVxuXG4gIHJlc2V0KCkge31cbn1cbiIsImV4cG9ydCBjbGFzcyBDYW1lcmFSaWcge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnJlc2V0KCk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLmxlZnRIYW5kID0gbnVsbDtcbiAgICB0aGlzLnJpZ2h0SGFuZCA9IG51bGw7XG4gICAgdGhpcy5jYW1lcmEgPSBudWxsO1xuICB9XG59XG4iLCJpbXBvcnQgeyBUYWdDb21wb25lbnQgfSBmcm9tIFwiZWNzeVwiO1xuZXhwb3J0IGNsYXNzIERyYWdnaW5nIGV4dGVuZHMgVGFnQ29tcG9uZW50IHt9XG4iLCJleHBvcnQgY2xhc3MgR2VvbWV0cnkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnByaW1pdGl2ZSA9IFwiYm94XCI7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLnByaW1pdGl2ZSA9IFwiYm94XCI7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBHTFRGTW9kZWwge31cbiIsImV4cG9ydCBjbGFzcyBPYmplY3QzRCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudmFsdWUgPSBudWxsO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy52YWx1ZSA9IG51bGw7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBQYXJlbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnZhbHVlID0gbnVsbDtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMudmFsdWUgPSBudWxsO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgUmVuZGVyUGFzcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc2NlbmUgPSBudWxsO1xuICAgIHRoaXMuY2FtZXJhID0gbnVsbDtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuc2NlbmUgPSBudWxsO1xuICAgIHRoaXMuY2FtZXJhID0gbnVsbDtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFNjZW5lIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zY2VuZSA9IG51bGw7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLnNjZW5lID0gbnVsbDtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFNreUJveCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudGV4dHVyZSA9IFwiXCI7XG4gICAgdGhpcy50eXBlID0gXCJcIjtcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLnRleHR1cmUgPSBcIlwiO1xuICAgIHRoaXMudHlwZSA9IFwiXCI7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBUZXh0R2VvbWV0cnkge1xuICByZXNldCgpIHt9XG59XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcblxuZXhwb3J0IGNsYXNzIFRyYW5zZm9ybSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIHRoaXMucm90YXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICB9XG5cbiAgY29weShzcmMpIHtcbiAgICB0aGlzLnBvc2l0aW9uLmNvcHkoc3JjLnBvc2l0aW9uKTtcbiAgICB0aGlzLnJvdGF0aW9uLmNvcHkoc3JjLnJvdGF0aW9uKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMucG9zaXRpb24uc2V0KDAsIDAsIDApO1xuICAgIHRoaXMucm90YXRpb24uc2V0KDAsIDAsIDApO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgVmlzaWJsZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucmVzZXQoKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMudmFsdWUgPSBmYWxzZTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFdlYkdMUmVuZGVyZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnZyID0gZmFsc2U7XG4gICAgdGhpcy5hciA9IGZhbHNlO1xuICAgIHRoaXMuYW50aWFsaWFzID0gdHJ1ZTtcbiAgICB0aGlzLmhhbmRsZVJlc2l6ZSA9IHRydWU7XG4gICAgdGhpcy5nYW1tYUlucHV0ID0gdHJ1ZTtcbiAgICB0aGlzLmdhbW1hT3V0cHV0ID0gdHJ1ZTtcbiAgICB0aGlzLnNoYWRvd01hcCA9IHRydWU7XG4gIH1cbn1cblxuLypcbmV4cG9ydCBjb25zdCBXZWJHTFJlbmRlcmVyID0gY3JlYXRlQ29tcG9uZW50Q2xhc3MoXG4gIHtcbiAgICB2cjogeyBkZWZhdWx0OiB0cnVlIH0sXG4gICAgYW50aWFsaWFzOiB7IGRlZmF1bHQ6IHRydWUgfSxcbiAgICBoYW5kbGVSZXNpemU6IHsgZGVmYXVsdDogdHJ1ZSB9LFxuICAgIGdhbW1hSW5wdXQ6IHsgZGVmYXVsdDogdHJ1ZSB9LFxuICAgIGdhbW1hT3V0cHV0OiB7IGRlZmF1bHQ6IHRydWUgfSxcbiAgICBzaGFkb3dNYXA6IHsgZGVmYXVsdDogZmFsc2UgfVxuICB9LFxuICBcIldlYkdMUmVuZGVyZXJcIlxuKTtcbiovXG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcbmltcG9ydCB7IFN5c3RlbSB9IGZyb20gXCJlY3N5XCI7XG5pbXBvcnQge1xuICBHZW9tZXRyeSxcbiAgT2JqZWN0M0QsXG4gIFRyYW5zZm9ybSxcbiAgLy8gIEVsZW1lbnQsXG4gIC8vICBEcmFnZ2FibGUsXG4gIFBhcmVudFxufSBmcm9tIFwiLi4vY29tcG9uZW50cy9pbmRleC5qc1wiO1xuXG4vKipcbiAqIENyZWF0ZSBhIE1lc2ggYmFzZWQgb24gdGhlIFtHZW9tZXRyeV0gY29tcG9uZW50IGFuZCBhdHRhY2ggaXQgdG8gdGhlIGVudGl0eSB1c2luZyBhIFtPYmplY3QzRF0gY29tcG9uZW50XG4gKi9cbmV4cG9ydCBjbGFzcyBHZW9tZXRyeVN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XG4gIGV4ZWN1dGUoKSB7XG4gICAgLy8gUmVtb3ZlZFxuICAgIHRoaXMucXVlcmllcy5lbnRpdGllcy5yZW1vdmVkLmZvckVhY2goZW50aXR5ID0+IHtcbiAgICAgIHZhciBvYmplY3QgPSBlbnRpdHkuZ2V0UmVtb3ZlZENvbXBvbmVudChPYmplY3QzRCkudmFsdWU7XG4gICAgICB2YXIgcGFyZW50ID0gZW50aXR5LmdldENvbXBvbmVudChQYXJlbnQsIHRydWUpLnZhbHVlO1xuICAgICAgcGFyZW50LmdldENvbXBvbmVudChPYmplY3QzRCkudmFsdWUucmVtb3ZlKG9iamVjdCk7XG4gICAgfSk7XG5cbiAgICAvLyBBZGRlZFxuICAgIHRoaXMucXVlcmllcy5lbnRpdGllcy5hZGRlZC5mb3JFYWNoKGVudGl0eSA9PiB7XG4gICAgICB2YXIgY29tcG9uZW50ID0gZW50aXR5LmdldENvbXBvbmVudChHZW9tZXRyeSk7XG5cbiAgICAgIHZhciBnZW9tZXRyeTtcbiAgICAgIHN3aXRjaCAoY29tcG9uZW50LnByaW1pdGl2ZSkge1xuICAgICAgICBjYXNlIFwidG9ydXNcIjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBnZW9tZXRyeSA9IG5ldyBUSFJFRS5Ub3J1c0J1ZmZlckdlb21ldHJ5KFxuICAgICAgICAgICAgICBjb21wb25lbnQucmFkaXVzLFxuICAgICAgICAgICAgICBjb21wb25lbnQudHViZSxcbiAgICAgICAgICAgICAgY29tcG9uZW50LnJhZGlhbFNlZ21lbnRzLFxuICAgICAgICAgICAgICBjb21wb25lbnQudHVidWxhclNlZ21lbnRzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInNwaGVyZVwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gbmV3IFRIUkVFLkljb3NhaGVkcm9uQnVmZmVyR2VvbWV0cnkoY29tcG9uZW50LnJhZGl1cywgMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYm94XCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQm94QnVmZmVyR2VvbWV0cnkoXG4gICAgICAgICAgICAgIGNvbXBvbmVudC53aWR0aCxcbiAgICAgICAgICAgICAgY29tcG9uZW50LmhlaWdodCxcbiAgICAgICAgICAgICAgY29tcG9uZW50LmRlcHRoXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbG9yID1cbiAgICAgICAgY29tcG9uZW50LnByaW1pdGl2ZSA9PT0gXCJ0b3J1c1wiID8gMHg5OTk5MDAgOiBNYXRoLnJhbmRvbSgpICogMHhmZmZmZmY7XG5cbiAgICAgICAgLypcbiAgICAgICAgaWYgKGVudGl0eS5oYXNDb21wb25lbnQoTWF0ZXJpYWwpKSB7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICB9XG4qL1xuXG4gICAgICB2YXIgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaExhbWJlcnRNYXRlcmlhbCh7XG4gICAgICAgIGNvbG9yOiBjb2xvcixcbiAgICAgICAgZmxhdFNoYWRpbmc6IHRydWVcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgb2JqZWN0ID0gbmV3IFRIUkVFLk1lc2goZ2VvbWV0cnksIG1hdGVyaWFsKTtcbiAgICAgIG9iamVjdC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICAgIG9iamVjdC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcblxuICAgICAgaWYgKGVudGl0eS5oYXNDb21wb25lbnQoVHJhbnNmb3JtKSkge1xuICAgICAgICB2YXIgdHJhbnNmb3JtID0gZW50aXR5LmdldENvbXBvbmVudChUcmFuc2Zvcm0pO1xuICAgICAgICBvYmplY3QucG9zaXRpb24uY29weSh0cmFuc2Zvcm0ucG9zaXRpb24pO1xuICAgICAgICBpZiAodHJhbnNmb3JtLnJvdGF0aW9uKSB7XG4gICAgICAgICAgb2JqZWN0LnJvdGF0aW9uLnNldChcbiAgICAgICAgICAgIHRyYW5zZm9ybS5yb3RhdGlvbi54LFxuICAgICAgICAgICAgdHJhbnNmb3JtLnJvdGF0aW9uLnksXG4gICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24uelxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gICAgICBpZiAoZW50aXR5Lmhhc0NvbXBvbmVudChFbGVtZW50KSAmJiAhZW50aXR5Lmhhc0NvbXBvbmVudChEcmFnZ2FibGUpKSB7XG4gICAgICAvLyAgICAgICAgb2JqZWN0Lm1hdGVyaWFsLmNvbG9yLnNldCgweDMzMzMzMyk7XG4gICAgICAvLyAgICAgIH1cblxuICAgICAgZW50aXR5LmFkZENvbXBvbmVudChPYmplY3QzRCwgeyB2YWx1ZTogb2JqZWN0IH0pO1xuICAgIH0pO1xuICB9XG59XG5cbkdlb21ldHJ5U3lzdGVtLnF1ZXJpZXMgPSB7XG4gIGVudGl0aWVzOiB7XG4gICAgY29tcG9uZW50czogW0dlb21ldHJ5XSwgLy8gQHRvZG8gVHJhbnNmb3JtOiBBcyBvcHRpb25hbCwgaG93IHRvIGRlZmluZSBpdD9cbiAgICBsaXN0ZW46IHtcbiAgICAgIGFkZGVkOiB0cnVlLFxuICAgICAgcmVtb3ZlZDogdHJ1ZVxuICAgIH1cbiAgfVxufTtcbiIsImltcG9ydCB7IEdMVEZMb2FkZXIgfSBmcm9tIFwidGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvR0xURkxvYWRlci5qc1wiO1xuaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSBcImVjc3lcIjtcbmltcG9ydCB7IFBhcmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BhcmVudC5qc1wiO1xuaW1wb3J0IHsgT2JqZWN0M0QgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9PYmplY3QzRC5qc1wiO1xuaW1wb3J0IHsgR0xURk1vZGVsIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvR0xURk1vZGVsLmpzXCI7XG5cbi8vIEB0b2RvIFVzZSBwYXJhbWV0ZXIgYW5kIGxvYWRlciBtYW5hZ2VyXG52YXIgbG9hZGVyID0gbmV3IEdMVEZMb2FkZXIoKS5zZXRQYXRoKFwiL2Fzc2V0cy9cIik7XG5cbmV4cG9ydCBjbGFzcyBHTFRGTG9hZGVyU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcbiAgZXhlY3V0ZSgpIHtcbiAgICB0aGlzLnF1ZXJpZXMuZW50aXRpZXMuYWRkZWQuZm9yRWFjaChlbnRpdHkgPT4ge1xuICAgICAgdmFyIGNvbXBvbmVudCA9IGVudGl0eS5nZXRDb21wb25lbnQoR0xURk1vZGVsKTtcblxuICAgICAgbG9hZGVyLmxvYWQoY29tcG9uZW50LnVybCwgZ2x0ZiA9PiB7XG4gICAgICAgIC8qXG4gICAgICAgIGdsdGYuc2NlbmUudHJhdmVyc2UoZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICBpZiAoY2hpbGQuaXNNZXNoKSB7XG4gICAgICAgICAgICBjaGlsZC5tYXRlcmlhbC5lbnZNYXAgPSBlbnZNYXA7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiovXG4gICAgICAgIGVudGl0eS5hZGRDb21wb25lbnQoT2JqZWN0M0QsIHsgdmFsdWU6IGdsdGYuc2NlbmUgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuXG5HTFRGTG9hZGVyU3lzdGVtLnF1ZXJpZXMgPSB7XG4gIGVudGl0aWVzOiB7XG4gICAgY29tcG9uZW50czogW0dMVEZNb2RlbF0sXG4gICAgbGlzdGVuOiB7XG4gICAgICBhZGRlZDogdHJ1ZVxuICAgIH1cbiAgfVxufTtcbiIsImltcG9ydCB7IFN5c3RlbSwgTm90IH0gZnJvbSBcImVjc3lcIjtcbmltcG9ydCB7IFNreUJveCwgT2JqZWN0M0QgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9pbmRleC5qc1wiO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCI7XG5cbmV4cG9ydCBjbGFzcyBTa3lCb3hTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xuICBleGVjdXRlKCkge1xuICAgIGxldCBlbnRpdGllcyA9IHRoaXMucXVlcmllcy5lbnRpdGllcy5yZXN1bHRzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW50aXRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlbnRpdHkgPSBlbnRpdGllc1tpXTtcblxuICAgICAgbGV0IHNreWJveCA9IGVudGl0eS5nZXRDb21wb25lbnQoU2t5Qm94KTtcblxuICAgICAgbGV0IGdyb3VwID0gbmV3IFRIUkVFLkdyb3VwKCk7XG4gICAgICBsZXQgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQm94QnVmZmVyR2VvbWV0cnkoMTAwLCAxMDAsIDEwMCk7XG4gICAgICBnZW9tZXRyeS5zY2FsZSgxLCAxLCAtMSk7XG5cbiAgICAgIGlmIChza3lib3gudHlwZSA9PT0gXCJjdWJlbWFwLXN0ZXJlb1wiKSB7XG4gICAgICAgIGxldCB0ZXh0dXJlcyA9IGdldFRleHR1cmVzRnJvbUF0bGFzRmlsZShza3lib3gudGV4dHVyZVVybCwgMTIpO1xuXG4gICAgICAgIGxldCBtYXRlcmlhbHMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDY7IGorKykge1xuICAgICAgICAgIG1hdGVyaWFscy5wdXNoKG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7IG1hcDogdGV4dHVyZXNbal0gfSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNreUJveCA9IG5ldyBUSFJFRS5NZXNoKGdlb21ldHJ5LCBtYXRlcmlhbHMpO1xuICAgICAgICBza3lCb3gubGF5ZXJzLnNldCgxKTtcbiAgICAgICAgZ3JvdXAuYWRkKHNreUJveCk7XG5cbiAgICAgICAgbGV0IG1hdGVyaWFsc1IgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBqID0gNjsgaiA8IDEyOyBqKyspIHtcbiAgICAgICAgICBtYXRlcmlhbHNSLnB1c2gobmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHsgbWFwOiB0ZXh0dXJlc1tqXSB9KSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2t5Qm94UiA9IG5ldyBUSFJFRS5NZXNoKGdlb21ldHJ5LCBtYXRlcmlhbHNSKTtcbiAgICAgICAgc2t5Qm94Ui5sYXllcnMuc2V0KDIpO1xuICAgICAgICBncm91cC5hZGQoc2t5Qm94Uik7XG5cbiAgICAgICAgZW50aXR5LmFkZENvbXBvbmVudChPYmplY3QzRCwgeyB2YWx1ZTogZ3JvdXAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJVbmtub3duIHNreWJveCB0eXBlOiBcIiwgc2t5Ym94LnR5cGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRUZXh0dXJlc0Zyb21BdGxhc0ZpbGUoYXRsYXNJbWdVcmwsIHRpbGVzTnVtKSB7XG4gIGxldCB0ZXh0dXJlcyA9IFtdO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGlsZXNOdW07IGkrKykge1xuICAgIHRleHR1cmVzW2ldID0gbmV3IFRIUkVFLlRleHR1cmUoKTtcbiAgfVxuXG4gIGxldCBsb2FkZXIgPSBuZXcgVEhSRUUuSW1hZ2VMb2FkZXIoKTtcbiAgbG9hZGVyLmxvYWQoYXRsYXNJbWdVcmwsIGZ1bmN0aW9uKGltYWdlT2JqKSB7XG4gICAgbGV0IGNhbnZhcywgY29udGV4dDtcbiAgICBsZXQgdGlsZVdpZHRoID0gaW1hZ2VPYmouaGVpZ2h0O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICAgIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgY2FudmFzLmhlaWdodCA9IHRpbGVXaWR0aDtcbiAgICAgIGNhbnZhcy53aWR0aCA9IHRpbGVXaWR0aDtcbiAgICAgIGNvbnRleHQuZHJhd0ltYWdlKFxuICAgICAgICBpbWFnZU9iaixcbiAgICAgICAgdGlsZVdpZHRoICogaSxcbiAgICAgICAgMCxcbiAgICAgICAgdGlsZVdpZHRoLFxuICAgICAgICB0aWxlV2lkdGgsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIHRpbGVXaWR0aCxcbiAgICAgICAgdGlsZVdpZHRoXG4gICAgICApO1xuICAgICAgdGV4dHVyZXNbaV0uaW1hZ2UgPSBjYW52YXM7XG4gICAgICB0ZXh0dXJlc1tpXS5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gdGV4dHVyZXM7XG59XG5cblNreUJveFN5c3RlbS5xdWVyaWVzID0ge1xuICBlbnRpdGllczoge1xuICAgIGNvbXBvbmVudHM6IFtTa3lCb3gsIE5vdChPYmplY3QzRCldXG4gIH1cbn07XG4iLCJpbXBvcnQgeyBTeXN0ZW0gfSBmcm9tIFwiZWNzeVwiO1xuaW1wb3J0IHsgVmlzaWJsZSwgT2JqZWN0M0QgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9pbmRleC5qc1wiO1xuXG5leHBvcnQgY2xhc3MgVmlzaWJpbGl0eVN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XG4gIHByb2Nlc3NWaXNpYmlsaXR5KGVudGl0aWVzKSB7XG4gICAgZW50aXRpZXMuZm9yRWFjaChlbnRpdHkgPT4ge1xuICAgICAgZW50aXR5LmdldE11dGFibGVDb21wb25lbnQoT2JqZWN0M0QpLnZhbHVlLnZpc2libGUgPSBlbnRpdHkuZ2V0Q29tcG9uZW50KFxuICAgICAgICBWaXNpYmxlXG4gICAgICApLnZhbHVlO1xuICAgIH0pO1xuICB9XG5cbiAgZXhlY3V0ZSgpIHtcbiAgICB0aGlzLnByb2Nlc3NWaXNpYmlsaXR5KHRoaXMucXVlcmllcy5lbnRpdGllcy5hZGRlZCk7XG4gICAgdGhpcy5wcm9jZXNzVmlzaWJpbGl0eSh0aGlzLnF1ZXJpZXMuZW50aXRpZXMuY2hhbmdlZCk7XG4gIH1cbn1cblxuVmlzaWJpbGl0eVN5c3RlbS5xdWVyaWVzID0ge1xuICBlbnRpdGllczoge1xuICAgIGNvbXBvbmVudHM6IFtWaXNpYmxlLCBPYmplY3QzRF0sXG4gICAgbGlzdGVuOiB7XG4gICAgICBhZGRlZDogdHJ1ZSxcbiAgICAgIGNoYW5nZWQ6IFtWaXNpYmxlXVxuICAgIH1cbiAgfVxufTtcbiIsImltcG9ydCB7IFN5c3RlbSwgTm90IH0gZnJvbSBcImVjc3lcIjtcbmltcG9ydCB7XG4gIFJlbmRlclBhc3MsXG4gIENhbWVyYSxcbiAgQWN0aXZlLFxuICBXZWJHTFJlbmRlcmVyLFxuICBPYmplY3QzRFxufSBmcm9tIFwiLi4vY29tcG9uZW50cy9pbmRleC5qc1wiO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCI7XG5pbXBvcnQgeyBWUkJ1dHRvbiB9IGZyb20gXCJ0aHJlZS9leGFtcGxlcy9qc20vd2VieHIvVlJCdXR0b24uanNcIjtcbmltcG9ydCB7IEFSQnV0dG9uIH0gZnJvbSBcInRocmVlL2V4YW1wbGVzL2pzbS93ZWJ4ci9BUkJ1dHRvbi5qc1wiO1xuXG5leHBvcnQgY2xhc3MgV2ViR0xSZW5kZXJlckNvbnRleHQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnZhbHVlID0gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgV2ViR0xSZW5kZXJlclN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XG4gIGluaXQoKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcInJlc2l6ZVwiLFxuICAgICAgKCkgPT4ge1xuICAgICAgICB0aGlzLnF1ZXJpZXMucmVuZGVyZXJzLnJlc3VsdHMuZm9yRWFjaChlbnRpdHkgPT4ge1xuICAgICAgICAgIHZhciBjb21wb25lbnQgPSBlbnRpdHkuZ2V0TXV0YWJsZUNvbXBvbmVudChXZWJHTFJlbmRlcmVyKTtcbiAgICAgICAgICBjb21wb25lbnQud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgICBjb21wb25lbnQuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBmYWxzZVxuICAgICk7XG4gIH1cblxuICBleGVjdXRlKCkge1xuICAgIGxldCByZW5kZXJlcnMgPSB0aGlzLnF1ZXJpZXMucmVuZGVyZXJzLnJlc3VsdHM7XG4gICAgcmVuZGVyZXJzLmZvckVhY2gocmVuZGVyZXJFbnRpdHkgPT4ge1xuICAgICAgdmFyIHJlbmRlcmVyID0gcmVuZGVyZXJFbnRpdHkuZ2V0Q29tcG9uZW50KFdlYkdMUmVuZGVyZXJDb250ZXh0KS52YWx1ZTtcbiAgICAgIHRoaXMucXVlcmllcy5yZW5kZXJQYXNzZXMucmVzdWx0cy5mb3JFYWNoKGVudGl0eSA9PiB7XG4gICAgICAgIHZhciBwYXNzID0gZW50aXR5LmdldENvbXBvbmVudChSZW5kZXJQYXNzKTtcbiAgICAgICAgdmFyIHNjZW5lID0gcGFzcy5zY2VuZS5nZXRDb21wb25lbnQoT2JqZWN0M0QpLnZhbHVlO1xuXG4gICAgICAgIHRoaXMucXVlcmllcy5hY3RpdmVDYW1lcmFzLnJlc3VsdHMuZm9yRWFjaChjYW1lcmFFbnRpdHkgPT4ge1xuICAgICAgICAgIHZhciBjYW1lcmEgPSBjYW1lcmFFbnRpdHkuZ2V0Q29tcG9uZW50KE9iamVjdDNEKS52YWx1ZTtcbiAgICAgICAgICByZW5kZXJlci5yZW5kZXIoc2NlbmUsIGNhbWVyYSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBVbmluaXRpYWxpemVkIHJlbmRlcmVyc1xuICAgIHRoaXMucXVlcmllcy51bmluaXRpYWxpemVkUmVuZGVyZXJzLnJlc3VsdHMuZm9yRWFjaChlbnRpdHkgPT4ge1xuICAgICAgdmFyIGNvbXBvbmVudCA9IGVudGl0eS5nZXRDb21wb25lbnQoV2ViR0xSZW5kZXJlcik7XG5cbiAgICAgIHZhciByZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHtcbiAgICAgICAgYW50aWFsaWFzOiBjb21wb25lbnQuYW50aWFsaWFzXG4gICAgICB9KTtcblxuICAgICAgaWYgKGNvbXBvbmVudC5hbmltYXRpb25Mb29wKSB7XG4gICAgICAgIHJlbmRlcmVyLnNldEFuaW1hdGlvbkxvb3AoY29tcG9uZW50LmFuaW1hdGlvbkxvb3ApO1xuICAgICAgfVxuXG4gICAgICByZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgIGlmIChjb21wb25lbnQuaGFuZGxlUmVzaXplKSB7XG4gICAgICAgIHJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgICB9XG5cbiAgICAgIHJlbmRlcmVyLmdhbW1hSW5wdXQgPSBjb21wb25lbnQuZ2FtbWFJbnB1dDtcbiAgICAgIHJlbmRlcmVyLmdhbW1hT3V0cHV0ID0gY29tcG9uZW50LmdhbW1hT3V0cHV0O1xuICAgICAgcmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQgPSBjb21wb25lbnQuc2hhZG93TWFwO1xuXG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuXG4gICAgICBpZiAoY29tcG9uZW50LnZyIHx8IGNvbXBvbmVudC5hcikge1xuICAgICAgICByZW5kZXJlci54ci5lbmFibGVkID0gdHJ1ZTtcblxuICAgICAgICBpZiAoY29tcG9uZW50LnZyKSB7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChWUkJ1dHRvbi5jcmVhdGVCdXR0b24ocmVuZGVyZXIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb21wb25lbnQuYXIpIHtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKEFSQnV0dG9uLmNyZWF0ZUJ1dHRvbihyZW5kZXJlcikpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGVudGl0eS5hZGRDb21wb25lbnQoV2ViR0xSZW5kZXJlckNvbnRleHQsIHsgdmFsdWU6IHJlbmRlcmVyIH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5xdWVyaWVzLnJlbmRlcmVycy5jaGFuZ2VkLmZvckVhY2goZW50aXR5ID0+IHtcbiAgICAgIHZhciBjb21wb25lbnQgPSBlbnRpdHkuZ2V0Q29tcG9uZW50KFdlYkdMUmVuZGVyZXIpO1xuICAgICAgdmFyIHJlbmRlcmVyID0gZW50aXR5LmdldENvbXBvbmVudChXZWJHTFJlbmRlcmVyQ29udGV4dCkudmFsdWU7XG4gICAgICBpZiAoXG4gICAgICAgIGNvbXBvbmVudC53aWR0aCAhPT0gcmVuZGVyZXIud2lkdGggfHxcbiAgICAgICAgY29tcG9uZW50LmhlaWdodCAhPT0gcmVuZGVyZXIuaGVpZ2h0XG4gICAgICApIHtcbiAgICAgICAgcmVuZGVyZXIuc2V0U2l6ZShjb21wb25lbnQud2lkdGgsIGNvbXBvbmVudC5oZWlnaHQpO1xuICAgICAgICAvLyBpbm5lcldpZHRoL2lubmVySGVpZ2h0XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuV2ViR0xSZW5kZXJlclN5c3RlbS5xdWVyaWVzID0ge1xuICB1bmluaXRpYWxpemVkUmVuZGVyZXJzOiB7XG4gICAgY29tcG9uZW50czogW1dlYkdMUmVuZGVyZXIsIE5vdChXZWJHTFJlbmRlcmVyQ29udGV4dCldXG4gIH0sXG4gIHJlbmRlcmVyczoge1xuICAgIGNvbXBvbmVudHM6IFtXZWJHTFJlbmRlcmVyLCBXZWJHTFJlbmRlcmVyQ29udGV4dF0sXG4gICAgbGlzdGVuOiB7XG4gICAgICBjaGFuZ2VkOiBbV2ViR0xSZW5kZXJlcl1cbiAgICB9XG4gIH0sXG4gIHJlbmRlclBhc3Nlczoge1xuICAgIGNvbXBvbmVudHM6IFtSZW5kZXJQYXNzXVxuICB9LFxuICBhY3RpdmVDYW1lcmFzOiB7XG4gICAgY29tcG9uZW50czogW0NhbWVyYSwgQWN0aXZlXSxcbiAgICBsaXN0ZW46IHtcbiAgICAgIGFkZGVkOiB0cnVlXG4gICAgfVxuICB9XG59O1xuIiwiaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSBcImVjc3lcIjtcbmltcG9ydCB7IFRyYW5zZm9ybSwgUGFyZW50LCBPYmplY3QzRCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2luZGV4LmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBUcmFuc2Zvcm1TeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xuICBleGVjdXRlKCkge1xuICAgIC8vIEhpZXJhcmNoeVxuICAgIGxldCBhZGRlZCA9IHRoaXMucXVlcmllcy5wYXJlbnQuYWRkZWQ7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhZGRlZC5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGVudGl0eSA9IGFkZGVkW2ldO1xuICAgICAgdmFyIHBhcmVudEVudGl0eSA9IGVudGl0eS5nZXRDb21wb25lbnQoUGFyZW50KS52YWx1ZTtcbiAgICAgIGlmIChwYXJlbnRFbnRpdHkuaGFzQ29tcG9uZW50KE9iamVjdDNEKSkge1xuICAgICAgICB2YXIgcGFyZW50T2JqZWN0M0QgPSBwYXJlbnRFbnRpdHkuZ2V0Q29tcG9uZW50KE9iamVjdDNEKS52YWx1ZTtcbiAgICAgICAgdmFyIGNoaWxkT2JqZWN0M0QgPSBlbnRpdHkuZ2V0Q29tcG9uZW50KE9iamVjdDNEKS52YWx1ZTtcbiAgICAgICAgcGFyZW50T2JqZWN0M0QuYWRkKGNoaWxkT2JqZWN0M0QpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRyYW5zZm9ybXNcbiAgICB2YXIgdHJhbnNmb3JtcyA9IHRoaXMucXVlcmllcy50cmFuc2Zvcm1zO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJhbnNmb3Jtcy5hZGRlZC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGVudGl0eSA9IHRyYW5zZm9ybXMuYWRkZWRbaV07XG4gICAgICBsZXQgdHJhbnNmb3JtID0gZW50aXR5LmdldENvbXBvbmVudChUcmFuc2Zvcm0pO1xuICAgICAgbGV0IG9iamVjdCA9IGVudGl0eS5nZXRDb21wb25lbnQoT2JqZWN0M0QpLnZhbHVlO1xuXG4gICAgICBvYmplY3QucG9zaXRpb24uY29weSh0cmFuc2Zvcm0ucG9zaXRpb24pO1xuICAgICAgb2JqZWN0LnJvdGF0aW9uLnNldChcbiAgICAgICAgdHJhbnNmb3JtLnJvdGF0aW9uLngsXG4gICAgICAgIHRyYW5zZm9ybS5yb3RhdGlvbi55LFxuICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24uelxuICAgICAgKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyYW5zZm9ybXMuY2hhbmdlZC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGVudGl0eSA9IHRyYW5zZm9ybXMuY2hhbmdlZFtpXTtcbiAgICAgIGxldCB0cmFuc2Zvcm0gPSBlbnRpdHkuZ2V0Q29tcG9uZW50KFRyYW5zZm9ybSk7XG4gICAgICBsZXQgb2JqZWN0ID0gZW50aXR5LmdldENvbXBvbmVudChPYmplY3QzRCkudmFsdWU7XG5cbiAgICAgIG9iamVjdC5wb3NpdGlvbi5jb3B5KHRyYW5zZm9ybS5wb3NpdGlvbik7XG4gICAgICBvYmplY3Qucm90YXRpb24uc2V0KFxuICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24ueCxcbiAgICAgICAgdHJhbnNmb3JtLnJvdGF0aW9uLnksXG4gICAgICAgIHRyYW5zZm9ybS5yb3RhdGlvbi56XG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5UcmFuc2Zvcm1TeXN0ZW0ucXVlcmllcyA9IHtcbiAgcGFyZW50OiB7XG4gICAgY29tcG9uZW50czogW1BhcmVudCwgT2JqZWN0M0RdLFxuICAgIGxpc3Rlbjoge1xuICAgICAgYWRkZWQ6IHRydWVcbiAgICB9XG4gIH0sXG4gIHRyYW5zZm9ybXM6IHtcbiAgICBjb21wb25lbnRzOiBbT2JqZWN0M0QsIFRyYW5zZm9ybV0sXG4gICAgbGlzdGVuOiB7XG4gICAgICBhZGRlZDogdHJ1ZSxcbiAgICAgIGNoYW5nZWQ6IFtUcmFuc2Zvcm1dXG4gICAgfVxuICB9XG59O1xuIiwiaW1wb3J0IHsgU3lzdGVtLCBOb3QgfSBmcm9tIFwiZWNzeVwiO1xuaW1wb3J0IHsgQ2FtZXJhLCBPYmplY3QzRCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2luZGV4LmpzXCI7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcblxuZXhwb3J0IGNsYXNzIENhbWVyYVN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XG4gIGluaXQoKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcInJlc2l6ZVwiLFxuICAgICAgKCkgPT4ge1xuICAgICAgICB0aGlzLnF1ZXJpZXMuY2FtZXJhcy5yZXN1bHRzLmZvckVhY2goY2FtZXJhID0+IHtcbiAgICAgICAgICBsZXQgY29tcG9uZW50ID0gY2FtZXJhLmdldENvbXBvbmVudChDYW1lcmEpO1xuICAgICAgICAgIGlmIChjb21wb25lbnQuaGFuZGxlUmVzaXplKSB7XG4gICAgICAgICAgICBjYW1lcmEuZ2V0TXV0YWJsZUNvbXBvbmVudChDYW1lcmEpLmFzcGVjdCA9XG4gICAgICAgICAgICAgIHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgZmFsc2VcbiAgICApO1xuICB9XG5cbiAgZXhlY3V0ZSgpIHtcbiAgICBsZXQgY2hhbmdlZCA9IHRoaXMucXVlcmllcy5jYW1lcmFzLmNoYW5nZWQ7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFuZ2VkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZW50aXR5ID0gY2hhbmdlZFtpXTtcblxuICAgICAgbGV0IGNvbXBvbmVudCA9IGVudGl0eS5nZXRDb21wb25lbnQoQ2FtZXJhKTtcbiAgICAgIGxldCBjYW1lcmEzZCA9IGVudGl0eS5nZXRNdXRhYmxlQ29tcG9uZW50KE9iamVjdDNEKS52YWx1ZTtcblxuICAgICAgaWYgKGNhbWVyYTNkLmFzcGVjdCAhPT0gY29tcG9uZW50LmFzcGVjdCkge1xuICAgICAgICBjYW1lcmEzZC5hc3BlY3QgPSBjb21wb25lbnQuYXNwZWN0O1xuICAgICAgICBjYW1lcmEzZC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICB9XG4gICAgICAvLyBAdG9kbyBEbyBpdCBmb3IgdGhlIHJlc3Qgb2YgdGhlIHZhbHVlc1xuICAgIH1cblxuICAgIHRoaXMucXVlcmllcy5jYW1lcmFzVW5pbml0aWFsaXplZC5yZXN1bHRzLmZvckVhY2goZW50aXR5ID0+IHtcbiAgICAgIGxldCBjb21wb25lbnQgPSBlbnRpdHkuZ2V0Q29tcG9uZW50KENhbWVyYSk7XG5cbiAgICAgIGxldCBjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoXG4gICAgICAgIGNvbXBvbmVudC5mb3YsXG4gICAgICAgIGNvbXBvbmVudC5hc3BlY3QsXG4gICAgICAgIGNvbXBvbmVudC5uZWFyLFxuICAgICAgICBjb21wb25lbnQuZmFyXG4gICAgICApO1xuXG4gICAgICBjYW1lcmEubGF5ZXJzLmVuYWJsZShjb21wb25lbnQubGF5ZXJzKTtcblxuICAgICAgZW50aXR5LmFkZENvbXBvbmVudChPYmplY3QzRCwgeyB2YWx1ZTogY2FtZXJhIH0pO1xuICAgIH0pO1xuICB9XG59XG5cbkNhbWVyYVN5c3RlbS5xdWVyaWVzID0ge1xuICBjYW1lcmFzVW5pbml0aWFsaXplZDoge1xuICAgIGNvbXBvbmVudHM6IFtDYW1lcmEsIE5vdChPYmplY3QzRCldXG4gIH0sXG4gIGNhbWVyYXM6IHtcbiAgICBjb21wb25lbnRzOiBbQ2FtZXJhLCBPYmplY3QzRF0sXG4gICAgbGlzdGVuOiB7XG4gICAgICBjaGFuZ2VkOiBbQ2FtZXJhXVxuICAgIH1cbiAgfVxufTtcbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gXCJ0aHJlZVwiO1xuaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSBcImVjc3lcIjtcbmltcG9ydCB7IFRleHRHZW9tZXRyeSwgT2JqZWN0M0QgfSBmcm9tIFwiLi4vaW5kZXguanNcIjtcblxuZXhwb3J0IGNsYXNzIFRleHRHZW9tZXRyeVN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XG4gIGluaXQoKSB7XG4gICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIHZhciBsb2FkZXIgPSBuZXcgVEhSRUUuRm9udExvYWRlcigpO1xuICAgIHRoaXMuZm9udCA9IG51bGw7XG4gICAgbG9hZGVyLmxvYWQoXCIvYXNzZXRzL2ZvbnRzL2hlbHZldGlrZXJfcmVndWxhci50eXBlZmFjZS5qc29uXCIsIGZvbnQgPT4ge1xuICAgICAgdGhpcy5mb250ID0gZm9udDtcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIH0pO1xuICB9XG5cbiAgZXhlY3V0ZSgpIHtcbiAgICBpZiAoIXRoaXMuZm9udCkgcmV0dXJuO1xuXG4gICAgdmFyIGNoYW5nZWQgPSB0aGlzLnF1ZXJpZXMuZW50aXRpZXMuY2hhbmdlZDtcbiAgICBjaGFuZ2VkLmZvckVhY2goZW50aXR5ID0+IHtcbiAgICAgIHZhciB0ZXh0Q29tcG9uZW50ID0gZW50aXR5LmdldENvbXBvbmVudChUZXh0R2VvbWV0cnkpO1xuICAgICAgdmFyIGdlb21ldHJ5ID0gbmV3IFRIUkVFLlRleHRHZW9tZXRyeSh0ZXh0Q29tcG9uZW50LnRleHQsIHtcbiAgICAgICAgZm9udDogdGhpcy5mb250LFxuICAgICAgICBzaXplOiAxLFxuICAgICAgICBoZWlnaHQ6IDAuMSxcbiAgICAgICAgY3VydmVTZWdtZW50czogMyxcbiAgICAgICAgYmV2ZWxFbmFibGVkOiB0cnVlLFxuICAgICAgICBiZXZlbFRoaWNrbmVzczogMC4wMyxcbiAgICAgICAgYmV2ZWxTaXplOiAwLjAzLFxuICAgICAgICBiZXZlbE9mZnNldDogMCxcbiAgICAgICAgYmV2ZWxTZWdtZW50czogM1xuICAgICAgfSk7XG4gICAgICB2YXIgb2JqZWN0ID0gZW50aXR5LmdldE11dGFibGVDb21wb25lbnQoT2JqZWN0M0QpLnZhbHVlO1xuICAgICAgb2JqZWN0Lmdlb21ldHJ5ID0gZ2VvbWV0cnk7XG4gICAgfSk7XG5cbiAgICB2YXIgYWRkZWQgPSB0aGlzLnF1ZXJpZXMuZW50aXRpZXMuYWRkZWQ7XG4gICAgYWRkZWQuZm9yRWFjaChlbnRpdHkgPT4ge1xuICAgICAgdmFyIHRleHRDb21wb25lbnQgPSBlbnRpdHkuZ2V0Q29tcG9uZW50KFRleHRHZW9tZXRyeSk7XG4gICAgICB2YXIgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuVGV4dEdlb21ldHJ5KHRleHRDb21wb25lbnQudGV4dCwge1xuICAgICAgICBmb250OiB0aGlzLmZvbnQsXG4gICAgICAgIHNpemU6IDEsXG4gICAgICAgIGhlaWdodDogMC4xLFxuICAgICAgICBjdXJ2ZVNlZ21lbnRzOiAzLFxuICAgICAgICBiZXZlbEVuYWJsZWQ6IHRydWUsXG4gICAgICAgIGJldmVsVGhpY2tuZXNzOiAwLjAzLFxuICAgICAgICBiZXZlbFNpemU6IDAuMDMsXG4gICAgICAgIGJldmVsT2Zmc2V0OiAwLFxuICAgICAgICBiZXZlbFNlZ21lbnRzOiAzXG4gICAgICB9KTtcblxuICAgICAgdmFyIGNvbG9yID0gTWF0aC5yYW5kb20oKSAqIDB4ZmZmZmZmO1xuICAgICAgY29sb3IgPSAweGZmZmZmZjtcbiAgICAgIHZhciBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7XG4gICAgICAgIGNvbG9yOiBjb2xvcixcbiAgICAgICAgcm91Z2huZXNzOiAwLjcsXG4gICAgICAgIG1ldGFsbmVzczogMC4wXG4gICAgICB9KTtcblxuICAgICAgdmFyIG1lc2ggPSBuZXcgVEhSRUUuTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xuXG4gICAgICBlbnRpdHkuYWRkQ29tcG9uZW50KE9iamVjdDNELCB7IHZhbHVlOiBtZXNoIH0pO1xuICAgIH0pO1xuICB9XG59XG5cblRleHRHZW9tZXRyeVN5c3RlbS5xdWVyaWVzID0ge1xuICBlbnRpdGllczoge1xuICAgIGNvbXBvbmVudHM6IFtUZXh0R2VvbWV0cnldLFxuICAgIGxpc3Rlbjoge1xuICAgICAgYWRkZWQ6IHRydWUsXG4gICAgICBjaGFuZ2VkOiB0cnVlXG4gICAgfVxuICB9XG59O1xuIiwiaW1wb3J0ICogYXMgRUNTWSBmcm9tIFwiZWNzeVwiO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCI7XG5cbmltcG9ydCB7IFRyYW5zZm9ybVN5c3RlbSB9IGZyb20gXCIuL3N5c3RlbXMvVHJhbnNmb3JtU3lzdGVtLmpzXCI7XG5pbXBvcnQgeyBDYW1lcmFTeXN0ZW0gfSBmcm9tIFwiLi9zeXN0ZW1zL0NhbWVyYVN5c3RlbS5qc1wiO1xuaW1wb3J0IHsgV2ViR0xSZW5kZXJlclN5c3RlbSB9IGZyb20gXCIuL3N5c3RlbXMvV2ViR0xSZW5kZXJlclN5c3RlbS5qc1wiO1xuaW1wb3J0IHsgT2JqZWN0M0QgfSBmcm9tIFwiLi9jb21wb25lbnRzL09iamVjdDNELmpzXCI7XG5pbXBvcnQgeyBDYW1lcmFSaWcgfSBmcm9tIFwiLi9jb21wb25lbnRzL0NhbWVyYVJpZy5qc1wiO1xuaW1wb3J0IHsgUGFyZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9QYXJlbnQuanNcIjtcbmltcG9ydCB7XG4gIFdlYkdMUmVuZGVyZXIsXG4gIFNjZW5lLFxuICBSZW5kZXJQYXNzLFxuICBDYW1lcmFcbn0gZnJvbSBcIi4vY29tcG9uZW50cy9pbmRleC5qc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gaW5pdCh3b3JsZCkge1xuICB3b3JsZFxuICAgIC5yZWdpc3RlclN5c3RlbShUcmFuc2Zvcm1TeXN0ZW0pXG4gICAgLnJlZ2lzdGVyU3lzdGVtKENhbWVyYVN5c3RlbSlcbiAgICAucmVnaXN0ZXJTeXN0ZW0oV2ViR0xSZW5kZXJlclN5c3RlbSwgeyBwcmlvcml0eTogMSB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVEZWZhdWx0KHdvcmxkID0gbmV3IEVDU1kuV29ybGQoKSwgb3B0aW9ucykge1xuICBpbml0KHdvcmxkKTtcblxuICBsZXQgYW5pbWF0aW9uTG9vcCA9IG9wdGlvbnMuYW5pbWF0aW9uTG9vcDtcbiAgaWYgKCFhbmltYXRpb25Mb29wKSB7XG4gICAgY29uc3QgY2xvY2sgPSBuZXcgVEhSRUUuQ2xvY2soKTtcbiAgICBhbmltYXRpb25Mb29wID0gKCkgPT4ge1xuICAgICAgd29ybGQuZXhlY3V0ZShjbG9jay5nZXREZWx0YSgpLCBjbG9jay5lbGFwc2VkVGltZSk7XG4gICAgfTtcbiAgfVxuXG4gIGxldCBzY2VuZSA9IHdvcmxkXG4gICAgLmNyZWF0ZUVudGl0eSgpXG4gICAgLmFkZENvbXBvbmVudChTY2VuZSlcbiAgICAuYWRkQ29tcG9uZW50KE9iamVjdDNELCB7IHZhbHVlOiBuZXcgVEhSRUUuU2NlbmUoKSB9KTtcblxuICBsZXQgcmVuZGVyZXIgPSB3b3JsZC5jcmVhdGVFbnRpdHkoKS5hZGRDb21wb25lbnQoV2ViR0xSZW5kZXJlciwge1xuICAgIGFyOiBvcHRpb25zLmFyLFxuICAgIHZyOiBvcHRpb25zLnZyLFxuICAgIGFuaW1hdGlvbkxvb3A6IGFuaW1hdGlvbkxvb3BcbiAgfSk7XG5cbiAgLy8gY2FtZXJhIHJpZyAmIGNvbnRyb2xsZXJzXG4gIHZhciBjYW1lcmEgPSBudWxsLFxuICAgIGNhbWVyYVJpZyA9IG51bGw7XG5cbiAgaWYgKG9wdGlvbnMuYXIgfHwgb3B0aW9ucy52cikge1xuICAgIGNhbWVyYVJpZyA9IHdvcmxkXG4gICAgICAuY3JlYXRlRW50aXR5KClcbiAgICAgIC5hZGRDb21wb25lbnQoQ2FtZXJhUmlnKVxuICAgICAgLmFkZENvbXBvbmVudChQYXJlbnQsIHsgdmFsdWU6IHNjZW5lIH0pO1xuICB9IGVsc2Uge1xuICAgIGNhbWVyYSA9IHdvcmxkLmNyZWF0ZUVudGl0eSgpLmFkZENvbXBvbmVudChDYW1lcmEsIHtcbiAgICAgIGZvdjogOTAsXG4gICAgICBhc3BlY3Q6IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0LFxuICAgICAgbmVhcjogMSxcbiAgICAgIGZhcjogMTAwMCxcbiAgICAgIGxheWVyczogMSxcbiAgICAgIGhhbmRsZVJlc2l6ZTogdHJ1ZVxuICAgIH0pO1xuICB9XG5cbiAgbGV0IHJlbmRlclBhc3MgPSB3b3JsZC5jcmVhdGVFbnRpdHkoKS5hZGRDb21wb25lbnQoUmVuZGVyUGFzcywge1xuICAgIHNjZW5lOiBzY2VuZSxcbiAgICBjYW1lcmE6IGNhbWVyYVxuICB9KTtcblxuICByZXR1cm4ge1xuICAgIHdvcmxkLFxuICAgIGVudGl0aWVzOiB7XG4gICAgICBzY2VuZSxcbiAgICAgIGNhbWVyYSxcbiAgICAgIGNhbWVyYVJpZyxcbiAgICAgIHJlbmRlcmVyLFxuICAgICAgcmVuZGVyUGFzc1xuICAgIH1cbiAgfTtcbn1cbiIsImV4cG9ydCBjbGFzcyBEcmFnZ2FibGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnJlc2V0KCk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLnZhbHVlID0gZmFsc2U7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBNYXRlcmlhbCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY29sb3IgPSAweGZmMDAwMDtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3NpdGlvbiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5wb3NpdGlvbi5zZXQoMCwgMCwgMCk7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gXCJ0aHJlZVwiO1xuXG5leHBvcnQgY2xhc3MgUm90YXRpb24ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnJvdGF0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMucm90YXRpb24uc2V0KDAsIDAsIDApO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgU2t5IHtcbiAgY29uc3RydWN0b3IoKSB7fVxuICByZXNldCgpIHt9XG59XG4iLCJleHBvcnQgY2xhc3MgVlJDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pZCA9IDA7XG4gICAgdGhpcy5jb250cm9sbGVyID0gbnVsbDtcbiAgfVxuICByZXNldCgpIHt9XG59XG4iXSwibmFtZXMiOlsiQWN0aXZlIiwiW29iamVjdCBPYmplY3RdIiwidGhpcyIsInJlc2V0IiwidmFsdWUiLCJDYW1lcmEiLCJmb3YiLCJhc3BlY3QiLCJuZWFyIiwiZmFyIiwibGF5ZXJzIiwiaGFuZGxlUmVzaXplIiwiQ2FtZXJhUmlnIiwibGVmdEhhbmQiLCJyaWdodEhhbmQiLCJjYW1lcmEiLCJEcmFnZ2luZyIsIlRhZ0NvbXBvbmVudCIsIkdlb21ldHJ5IiwicHJpbWl0aXZlIiwiR0xURk1vZGVsIiwiT2JqZWN0M0QiLCJQYXJlbnQiLCJSZW5kZXJQYXNzIiwic2NlbmUiLCJTY2VuZSIsIlNreUJveCIsInRleHR1cmUiLCJ0eXBlIiwiVGV4dEdlb21ldHJ5IiwiVHJhbnNmb3JtIiwicG9zaXRpb24iLCJUSFJFRS5WZWN0b3IzIiwicm90YXRpb24iLCJzcmMiLCJjb3B5Iiwic2V0IiwiVmlzaWJsZSIsIldlYkdMUmVuZGVyZXIiLCJ2ciIsImFyIiwiYW50aWFsaWFzIiwiZ2FtbWFJbnB1dCIsImdhbW1hT3V0cHV0Iiwic2hhZG93TWFwIiwiR2VvbWV0cnlTeXN0ZW0iLCJTeXN0ZW0iLCJxdWVyaWVzIiwiZW50aXRpZXMiLCJyZW1vdmVkIiwiZm9yRWFjaCIsImVudGl0eSIsIm9iamVjdCIsImdldFJlbW92ZWRDb21wb25lbnQiLCJnZXRDb21wb25lbnQiLCJyZW1vdmUiLCJhZGRlZCIsImdlb21ldHJ5IiwiY29tcG9uZW50IiwiVEhSRUUuVG9ydXNCdWZmZXJHZW9tZXRyeSIsInJhZGl1cyIsInR1YmUiLCJyYWRpYWxTZWdtZW50cyIsInR1YnVsYXJTZWdtZW50cyIsIlRIUkVFLkljb3NhaGVkcm9uQnVmZmVyR2VvbWV0cnkiLCJUSFJFRS5Cb3hCdWZmZXJHZW9tZXRyeSIsIndpZHRoIiwiaGVpZ2h0IiwiZGVwdGgiLCJjb2xvciIsIk1hdGgiLCJyYW5kb20iLCJtYXRlcmlhbCIsIlRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwiLCJmbGF0U2hhZGluZyIsIlRIUkVFLk1lc2giLCJjYXN0U2hhZG93IiwicmVjZWl2ZVNoYWRvdyIsImhhc0NvbXBvbmVudCIsInRyYW5zZm9ybSIsIngiLCJ5IiwieiIsImFkZENvbXBvbmVudCIsImNvbXBvbmVudHMiLCJsaXN0ZW4iLCJsb2FkZXIiLCJHTFRGTG9hZGVyIiwic2V0UGF0aCIsIkdMVEZMb2FkZXJTeXN0ZW0iLCJsb2FkIiwidXJsIiwiZ2x0ZiIsIlNreUJveFN5c3RlbSIsInJlc3VsdHMiLCJpIiwibGVuZ3RoIiwic2t5Ym94IiwiZ3JvdXAiLCJUSFJFRS5Hcm91cCIsInNjYWxlIiwidGV4dHVyZXMiLCJnZXRUZXh0dXJlc0Zyb21BdGxhc0ZpbGUiLCJ0ZXh0dXJlVXJsIiwibWF0ZXJpYWxzIiwiaiIsInB1c2giLCJUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCIsIm1hcCIsInNreUJveCIsImFkZCIsIm1hdGVyaWFsc1IiLCJza3lCb3hSIiwiY29uc29sZSIsIndhcm4iLCJhdGxhc0ltZ1VybCIsInRpbGVzTnVtIiwiVEhSRUUuVGV4dHVyZSIsIlRIUkVFLkltYWdlTG9hZGVyIiwiaW1hZ2VPYmoiLCJjYW52YXMiLCJjb250ZXh0IiwidGlsZVdpZHRoIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZ2V0Q29udGV4dCIsImRyYXdJbWFnZSIsImltYWdlIiwibmVlZHNVcGRhdGUiLCJOb3QiLCJWaXNpYmlsaXR5U3lzdGVtIiwiZ2V0TXV0YWJsZUNvbXBvbmVudCIsInZpc2libGUiLCJwcm9jZXNzVmlzaWJpbGl0eSIsImNoYW5nZWQiLCJXZWJHTFJlbmRlcmVyQ29udGV4dCIsIldlYkdMUmVuZGVyZXJTeXN0ZW0iLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVuZGVyZXJzIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwicmVuZGVyZXJFbnRpdHkiLCJyZW5kZXJlciIsInJlbmRlclBhc3NlcyIsImFjdGl2ZUNhbWVyYXMiLCJjYW1lcmFFbnRpdHkiLCJyZW5kZXIiLCJ1bmluaXRpYWxpemVkUmVuZGVyZXJzIiwiVEhSRUUuV2ViR0xSZW5kZXJlciIsImFuaW1hdGlvbkxvb3AiLCJzZXRBbmltYXRpb25Mb29wIiwic2V0UGl4ZWxSYXRpbyIsImRldmljZVBpeGVsUmF0aW8iLCJzZXRTaXplIiwiZW5hYmxlZCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImRvbUVsZW1lbnQiLCJ4ciIsIlZSQnV0dG9uIiwiY3JlYXRlQnV0dG9uIiwiQVJCdXR0b24iLCJUcmFuc2Zvcm1TeXN0ZW0iLCJwYXJlbnQiLCJwYXJlbnRFbnRpdHkiLCJwYXJlbnRPYmplY3QzRCIsImNoaWxkT2JqZWN0M0QiLCJ0cmFuc2Zvcm1zIiwiQ2FtZXJhU3lzdGVtIiwiY2FtZXJhcyIsImNhbWVyYTNkIiwidXBkYXRlUHJvamVjdGlvbk1hdHJpeCIsImNhbWVyYXNVbmluaXRpYWxpemVkIiwiVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEiLCJlbmFibGUiLCJUZXh0R2VvbWV0cnlTeXN0ZW0iLCJpbml0aWFsaXplZCIsIlRIUkVFLkZvbnRMb2FkZXIiLCJmb250IiwidGV4dENvbXBvbmVudCIsIlRIUkVFLlRleHRHZW9tZXRyeSIsInRleHQiLCJzaXplIiwiY3VydmVTZWdtZW50cyIsImJldmVsRW5hYmxlZCIsImJldmVsVGhpY2tuZXNzIiwiYmV2ZWxTaXplIiwiYmV2ZWxPZmZzZXQiLCJiZXZlbFNlZ21lbnRzIiwiVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwiLCJyb3VnaG5lc3MiLCJtZXRhbG5lc3MiLCJtZXNoIiwiaW5pdCIsIndvcmxkIiwicmVnaXN0ZXJTeXN0ZW0iLCJwcmlvcml0eSIsImlkIiwiY29udHJvbGxlciIsIkVDU1kuV29ybGQiLCJvcHRpb25zIiwiY2xvY2siLCJUSFJFRS5DbG9jayIsImV4ZWN1dGUiLCJnZXREZWx0YSIsImVsYXBzZWRUaW1lIiwiY3JlYXRlRW50aXR5IiwiVEhSRUUuU2NlbmUiLCJjYW1lcmFSaWciLCJyZW5kZXJQYXNzIl0sIm1hcHBpbmdzIjoiK3BCQUFPLE1BQU1BLEVBQ1hDLGNBQ0VDLEtBQUtDLFFBR1BGLFFBQ0VDLEtBQUtFLE9BQVEsR0NOVixNQUFNQyxFQUNYSixjQUNFQyxLQUFLSSxJQUFNLEdBQ1hKLEtBQUtLLE9BQVMsRUFDZEwsS0FBS00sS0FBTyxFQUNaTixLQUFLTyxJQUFNLElBQ1hQLEtBQUtRLE9BQVMsRUFDZFIsS0FBS1MsY0FBZSxFQUd0QlYsVUNWSyxNQUFNVyxFQUNYWCxjQUNFQyxLQUFLQyxRQUdQRixRQUNFQyxLQUFLVyxTQUFXLEtBQ2hCWCxLQUFLWSxVQUFZLEtBQ2pCWixLQUFLYSxPQUFTLE1DUFgsTUFBTUMsVUFBaUJDLGdCQ0R2QixNQUFNQyxFQUNYakIsY0FDRUMsS0FBS2lCLFVBQVksTUFHbkJsQixRQUNFQyxLQUFLaUIsVUFBWSxPQ05kLE1BQU1DLEdDQU4sTUFBTUMsRUFDWHBCLGNBQ0VDLEtBQUtFLE1BQVEsS0FHZkgsUUFDRUMsS0FBS0UsTUFBUSxNQ05WLE1BQU1rQixFQUNYckIsY0FDRUMsS0FBS0UsTUFBUSxLQUdmSCxRQUNFQyxLQUFLRSxNQUFRLE1DTlYsTUFBTW1CLEVBQ1h0QixjQUNFQyxLQUFLc0IsTUFBUSxLQUNidEIsS0FBS2EsT0FBUyxLQUdoQmQsUUFDRUMsS0FBS3NCLE1BQVEsS0FDYnRCLEtBQUthLE9BQVMsTUNSWCxNQUFNVSxFQUNYeEIsY0FDRUMsS0FB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
